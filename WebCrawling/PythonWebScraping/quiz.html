<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ko">
 <head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
  <link href="http://land.naver.com" rel="canonical"/>
  <meta content="land" property="og:site_name"/>
  <meta content="네이버 부동산" property="og:title"/>
  <meta content="article" property="og:type"/>
  <meta content="내 집 마련의 시작, 네이버 부동산" property="og:description"/>
  <meta content="내 집 마련의 시작, 네이버 부동산" name="description"/>
  <meta content="https://landthumb-phinf.pstatic.net/20201030_229/land_naver_1604037626049TB83t_PNG/%B3%D7%C0%CC%B9%F6_%BA%CE%B5%BF%BB%EA.png" property="og:image"/>
  <meta content="네이버 부동산" property="og:article:author"/>
  <meta content="http://land.naver.com/index.naver" property="og:url"/>
  <meta content="http://land.naver.com/" property="og:article:author:url"/>
  <meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
  <style type="text/css">
   html, body, div, p {
            margin: 0;
            padding: 0;
        }
        body, input {
            font-family: '나눔고딕', NanumGothic, '맑은 고딕', Malgun Gothic, '돋움', Dotum, Helvetica, 'Apple SD GothicNeo', Sans-serif;
        }
        html, body {
            height: 100%;
        }
        fieldset, input {
            border: none;
            margin: 0;
            padding: 0;
        }
        #wrap {
            max-width: 560px;
            margin: 0 auto;
            height: 100%;
            text-align: center;
        }
        .inner {
            display: inline-block;
            vertical-align: middle;
        }
        .v_center {
            display: inline-block;
            vertical-align: middle;
            height: 100%;
        }
        .icon_alert {
            display: block;
            width: 42px;
            height: 42px;
            margin: 0 auto;
            background: url(https://ssl.pstatic.net/static.land/static/service/20220119/error/alert.png) no-repeat;
        }
        .tit_error {
            margin: 16px 0 12px;
            font-size: 20px;
            font-weight: 600;
            line-height: 25px;
            letter-spacing: -1px;
            color: #515254;
        }
        .p_error {
            margin-top: 8px;
            font-size: 14px;
            line-height: 22px;
            letter-spacing: -0.2px;
            color: #999;
        }
        .btn_move {
            display: inline-block;
            width: auto;
            height: 38px;
            margin-top: 24px;
            padding: 0 12px;
            border: 1px solid #d8dadc;
            font-size: 15px;
            line-height: 38px;
            letter-spacing: -1px;
            text-decoration: none;
            color: #515254;
        }
        legend, .blind {
            position: absolute;
            clip: rect(0 0 0 0);
            width: 1px;
            height: 1px;
            margin: -1px;
            overflow: hidden;
        }

        .captcha_wrap {
            overflow: hidden;
            width: 408px;
            height: 80px;
            margin: 25px auto 0;
            border: 1px solid #d8dadc;
        }
        .captcha_img, .captcha_voice {
            float: left;
            width: 295px;
            text-align: center;
        }
        .captcha_voice {
            font-size: 0;
            height: 80px;
        }
        .captcha_voice:before {
            content: '';
            display: inline-block;
            height: 100%;
            vertical-align: middle;
        }
        .notice_wrap {
            display: inline-block;
            text-align: left;
            vertical-align: middle;
        }
        .notice {
            font-size: 13px;
            line-height: 17px;
            color: #222;
        }
        .sub_description {
            font-size: 11px;
            line-height: 17px;
            color: #777;
        }
        .notice_replay {
            font-size: 16px;
            line-height: 18px;
            color: #00c73c;
            letter-spacing: -0.5px;
            font-weight: bold
        }
        .btn_wrap {
            float: right;
            height: 80px;
            width: 112px;
            border-left: 1px solid #d8dadc;
        }
        .btn_reload, .btn_voice, .btn_img {
            width: 100%;
            height: 40px;
            padding-left: 12px;
            background-color: #f9fafb;
            border: none;
            font-size: 12px;
            font-family: inherit;
            color: #777;
            letter-spacing: -.5px;
            text-align: left;
        }
        .btn_voice, .btn_img {
            border-top: 1px solid #d8dadc;
            height: 39px;
            padding-left: 14px;
        }
        .icon_reload {
            position: relative;
            top: -1px;
            display: inline-block;
            vertical-align: middle;
            width: 13px;
            height: 10px;
            margin-right: 4px;
            background: url(https://ssl.pstatic.net/static.land/static/service/20220119/error/change.png) no-repeat;
        }
        .icon_voice {
            display: inline-block;
            vertical-align: middle;
            width: 10px;
            height: 15px;
            margin-right: 6px;
            background: url(https://ssl.pstatic.net/static.land/static/service/20220119/error/voice.png) no-repeat;
        }
        .icon_img {
            position: relative;
            top: -2px;
            display: inline-block;
            vertical-align: middle;
            width: 11px;
            height: 11px;
            margin-right: 6px;
            background: url(https://ssl.pstatic.net/static.land/static/service/20220119/error/image.png) no-repeat;
        }
        .icon_voice_b {
            display: inline-block;
            vertical-align: middle;
            width: 21px;
            height: 30px;
            margin-right: 10px;
            background: url(https://ssl.pstatic.net/static.land/static/service/20220119/error/voice_b.png) no-repeat;
        }
        .captcha_input {
            display: block;
            width: 380px;
            height: 16px;
            margin: 8px auto 0;
            line-height: 16px;
            padding: 15px 14px 17px;
            border: 1px solid #d8dadc;
            font-size: 14px;
            color: #515254;
        }
        ::-webkit-input-placeholder{color:#999}
        ::-moz-placeholder{color:#999}
        :-ms-input-placeholder{color:#999}
        input:-moz-placeholder{color:#999}
        .captcha_error {
            display: none;
            margin-top: 10px;
            color: #f34d59;
            font-size: 14px;
            letter-spacing: -1px;
            line-height: 22px;
        }
        .btn_ok {
            display: block;
            width: 145px;
            height: 45px;
            margin: 25px auto 0;
            font-size: 16px;
            letter-spacing: -1px;
            font-weight: 500;
            background-color: #00c73c;
            color: #fff;
        }
        .btn_ok[disabled] {
            background-color: #d4d4d4;
            color: #fff!important;
        }
  </style>
 </head>
 <body onload="">
  <div id="wrap">
   <span class="v_center">
   </span>
   <div class="inner">
    <i class="icon_alert">
    </i>
    <p class="tit_error">
     서비스 이용이 제한되었습니다.
    </p>
    <p class="p_error">
     사용중이신 PC 또는 네트워크에서 네이버 부동산의 정상적인 사용을 방해하는
     <br/>
     비정상적인 접근이 감지되었습니다.
    </p>
    <p class="p_error">
     bot 프로그램 등을 이용한 비정상적인 접근이 확인되는 경우, 임시적으로
     <br/>
     서비스 이용을 제한하고 있습니다.
    </p>
    <p class="p_error">
     아래 문자를 입력하시면 정상적으로 서비스를 사용하실 수 있습니다.
    </p>
    <fieldset>
     <legend>
      캡차입력영역
     </legend>
     <div _status="imageCaptcha" class="captcha_wrap">
      <div class="_captcha_img">
       <span class="captcha_img">
        <img alt="" class="_captchaImg" height="80" key="" src="" width="182"/>
       </span>
       <div class="btn_wrap">
        <button class="btn_reload _reload" type="button">
         <i class="icon_reload">
         </i>
         새로고침
        </button>
        <button class="btn_voice _changeCaptcha" type="button">
         <i class="icon_voice">
         </i>
         음성으로 듣기
        </button>
       </div>
      </div>
      <div class="_captcha_voice" style="display:none">
       <a class="captcha_voice _captcha_voice_btn" href="javascript:void(0);" role="button">
        <i class="icon_voice_b _audioParrent" key="">
        </i>
        <span class="notice_wrap">
         <strong class="notice _soundCaptchaNoticeMsg">
          음성 재생
         </strong>
         <br/>
         <span class="sub_description _soundCaptchaSubDescription">
          (시작음 3회 반복 후 재생)
         </span>
        </span>
       </a>
       <div class="btn_wrap">
        <button class="btn_reload _reload" type="button">
         <i class="icon_reload">
         </i>
         새로고침
        </button>
        <button class="btn_img _changeCaptcha" type="button">
         <i class="icon_img">
         </i>
         이미지로 보기
        </button>
       </div>
      </div>
     </div>
     <label class="blind" for="captcha_text">
      캡차 이미지의 문자를 입력하세요.
     </label>
     <input aria-describedby="" class="captcha_input _captcha_input" id="captcha_text" placeholder="위의 문자를 보이는대로 입력해 주세요" type="text"/>
     <p class="captcha_error _captcha_error" id="error_message" style="display: none;">
      잘못된 입력입니다. 다시 시도해 보세요.
     </p>
     <input class="btn_ok _inputCaptchaMsg" disabled="" type="button" value="확인"/>
    </fieldset>
   </div>
  </div>
  <script src="https://ssl.pstatic.net/static.land/static/service/js/202201271402/min/common/jquery.min.js" type="text/javascript">
  </script>
  <script type="text/javascript">
   getImageCaptchaKey();
    var playTimer = null;
    var delay = 200;
    var isFirstPlay = true;

    function getImageCaptchaKey () {
        $.ajax({
            type: "get",
            url: "/error/getImageCaptchaKey.naver",
            dataType: "json"
        }).done(function(data) {
            if (data.result.captchaKey === "fail") {
                window.location.href="/index.naver";
            } else {
                var $imgTag = $("._captchaImg");
                $imgTag.attr("src", "http://captcha.naver.com/nhncaptchav4.gif?key=" + data.result.captchaKey + "&1");
                $imgTag.attr("key", data.result.captchaKey);
                $imgTag.attr("alt", "캡차");
            }
        });
    };

    function getSoundCaptchaKey() {
        $.ajax({
            type: "get",
            url: "/error/getSoundCaptchaKey.naver",
            dataType: "json"
        }).done(function(data) {
            if (data.result.captchaKey === "fail") {
                window.location.href="/index";
            } else {
                var $audioParrent = $("._audioParrent");
                $audioParrent.attr("key", data.result.captchaKey);
            }
        });
    };

    $("._changeCaptcha").on("click", function() {
        var $captchaWrap = $(".captcha_wrap");
        if ($captchaWrap.attr("_status") === "imageCaptcha") {
            getSoundCaptchaKey();
            $("._captcha_img").hide();
            $("#captcha_text").attr("placeholder", "스피커로 들리는 내용을 입력해 주세요");
            $("._captcha_voice").show();

            $captchaWrap.attr("_status", "soundCaptcha");
        } else {
            $("._captcha_voice").hide();
            $("#captcha_text").attr("placeholder", "위의 문자를 보이는대로 입력해 주세요");
            $("._captcha_img").show();

            $captchaWrap.attr("_status", "imageCaptcha");
        }
    });

    $("._captcha_voice_btn").on("click", function(){
        var $audioParrent = $("._audioParrent");
        var key = $audioParrent.attr("key");
        var wavURL = "http://soundcaptcha.naver.com/soundCaptcha.wav?key=" + key + "&replay=" +  new Date().valueOf();

        try {
            clearAudio();
            var audio = new Audio();
            if (!audio.canPlayType('audio/wav')) {
                alert("현재 브라우저에서 wav 파일 재생을 지원하지 않습니다.");
                throw new Error('');
            }

            audio = new Audio(wavURL);
            playTimer = setTimeout(function () {
                $("._audioParrent").append(audio);
                audio.play();
                if (isFirstPlay) {
                    isFirstPlay = false;
                    var $soundCaptchaNoticeMsg =  $("._soundCaptchaNoticeMsg")
                    $soundCaptchaNoticeMsg.removeClass("notice");
                    $soundCaptchaNoticeMsg.addClass("notice_replay");
                    $soundCaptchaNoticeMsg.text("다시 재생");
                    $("._soundCaptchaSubDescription").hide();
                }
            }, delay);
        } catch(e) {
            clearAudio();
            alert("재생에 실패하였습니다. 다시 시도 부탁드립니다.")
        }
    });



    function clearAudio() {
        if (playTimer != null) {
            clearTimeout(playTimer);
        }
        var $audio = $("._audioParrent audio");
        if ($audio) {
            $audio.remove();
        }
    }


    $("._btn_back").on("click", function () {
        window.history.back();
    });

    $("._reload").on("click", function() {
        var $captchaWrap = $(".captcha_wrap");
        if ($captchaWrap.attr("_status") === "soundCaptcha") {
            clearAudio();
            isFirstPlay = true;
            var $soundCaptchaNoticeMsg =  $("._soundCaptchaNoticeMsg")
            $soundCaptchaNoticeMsg.removeClass("notice_replay");
            $soundCaptchaNoticeMsg.addClass("notice");
            $soundCaptchaNoticeMsg.text("음성 재생");
            $("._soundCaptchaSubDescription").show();
            getSoundCaptchaKey();
        } else {
            var $captchaImg = $('._captchaImg');
            var captchaURL = $captchaImg.attr("src");
            var splitUrl = captchaURL.split("&");
            if (splitUrl[1]) {
                var tryCnt = parseInt(splitUrl[1]) + 1;
                captchaURL = splitUrl[0] + "&" + tryCnt;
            }
            $captchaImg.attr("src", captchaURL);
        }
    });

    $('._captcha_input').on("keyup", function(e) {
        var inputMsg = $('._captcha_input').val();
        var $submitBtn = $("._inputCaptchaMsg");

        if (inputMsg) {
            $submitBtn.removeAttr('disabled');
        } else {
            $("._captcha_error").hide();
            $submitBtn.attr('disabled','disabled');
        }

        if (13 == e.which) {
            $("._inputCaptchaMsg").click();
        }
    });


    $("._inputCaptchaMsg").on("click", function () {
        var value = $("._captcha_input").val();

        if (!value) {
            return;
        }
        var type = "";
        var $captchaWrap = $(".captcha_wrap");
        if ($captchaWrap.attr("_status") === "imageCaptcha") {
            key = $('._captchaImg').attr("key");
            type = "image";
        } else {
            key = $('._audioParrent').attr("key");
            type = "sound";
        }


        $.ajax({
            type: "post",
            url: "/error/releaseBlock.naver",
            data: {
                key : key,
                value : value,
                type : type
            },
            dataType: "json"
        }).done(function(data) {
            var isSeccessVerifyCaptcha = data.result.isSuccess

            if (isSeccessVerifyCaptcha) {
                window.location.href="/index.naver";
            } else {
                $("._captcha_input").attr("aria-describedby", "error_message");
                $("._captcha_error").show();
                var srcUrl = $("._captchaImg").attr("src");
                $("._captchaImg").attr("src", setImageCaptchaUrl(srcUrl, data.result.captchaKey));
                $("._captchaImg").attr("key",  data.result.captchaKey);
            }
        });
    });

    function setImageCaptchaUrl(srcUrl, key) {
        var splitUrl = srcUrl.split("key=");
        return splitUrl[0] + "key=" + key + "&1";
    };
  </script>
 </body>
</html>